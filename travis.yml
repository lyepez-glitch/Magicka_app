language: python

python:
  - "3.11"  # Specify the exact version of Python you need

before_install:
  - python -m pip install --upgrade pip

install:
  - pip install -r requirements.txt  # Install dependencies

before_script:
  - python manage.py migrate  # Apply migrations

script:
  - python manage.py test  # Run Django tests

deploy:
  provider: script
  script:
    - chmod +x deploy_render.sh
    - bash deploy_render.sh
  on:
    branch: main
