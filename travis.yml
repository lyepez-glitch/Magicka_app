language: python

python:
  - "3.11.4"  # Specify Python version 3.11.4

install:
  - pip install -r requirements.txt  # Install dependencies

before_script:
  - python manage.py migrate  # Run migrations to set up the database

script:
  - python manage.py test  # Run tests

deploy:
  provider: script  # We will use a custom script for Render deployment
  script:
    - bash deploy_render.sh  # A script to handle deployment on Render
  on:
    branch: main  # Deploy only on the main branch
